var Y=Object.defineProperty;var I=(h,s,i)=>s in h?Y(h,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):h[s]=i;var y=(h,s,i)=>(I(h,typeof s!="symbol"?s+"":s,i),i);import{d as O,j as b,o as g,c,l as n,t as u,F as f,E as _,n as x,_ as S,I as H,a as N,a6 as P}from"./chunks/framework.DvXRYole.js";const v=Symbol(),q=Symbol(),w=Symbol(),T=Symbol(),M=Symbol(),r=Symbol(),m=Symbol(),j=Symbol();let $=class{constructor(s="en"){y(this,"TODAY",new Date);y(this,"ONEDAY",24*60*60*1e3);y(this,"CALENDAR_MODE");y(this,"current_month",0);y(this,"current_year",0);this.CALENDAR_MODE=s}init(){this.current_month=this[r](this.TODAY).month,this.current_year=this[r](this.TODAY).year;const s=this[j](this.CALENDAR_MODE),i=this[m]();return{week_days:s,calendar_days:i,month:this.current_month,year:this.current_year}}next(){let s,i;return this.current_month=this.current_month+1,this.current_month>11&&(this.current_year++,this.current_month=0),s=this.current_year,i=this.current_month,{calendar_days:this[m](new Date(s,i,1)),month:this.current_month,year:this.current_year}}prev(){let s,i;return this.current_month=this.current_month-1,this.current_month<0&&(this.current_year--,this.current_month=11),s=this.current_year,i=this.current_month,{calendar_days:this[m](new Date(s,i,1)),month:this.current_month,year:this.current_year}}jump(s=this.TODAY){const{year:i,month:a,day:l}=this[r](s);return this.current_year=i,this.current_month=a,{calendar_days:this[m](new Date(i,a,l)),month:this.current_month,year:this.current_year}}[j](s){let i=[];switch(s){case"en":i=["周日","周一","周二","周三","周四","周五","周六"];case"zh":i=["周一","周二","周三","周四","周五","周六","周日"]}return i}[m](s=this.TODAY){const{month_1st_day:i,month_last_day:a,calendar_1st_day:l,calendar_front_days:k,calendar_last_days:t}=this[M](s),{year:F,month:d}=this[r](s),{year:e,month:o,day:A}=this[r](this.TODAY),C=this[q](F)[d]+k+t;let p=new Array;for(let E=0;E<C;E++){const D=l.getTime()+E*this.ONEDAY;p.push({day:new Date(D).getDate(),isCurrentMonth:D-i.getTime()>=0&&a.getTime()-D>=0,isToday:D===new Date(e,o,A).getTime()})}return p}[r](s){const i=s.getFullYear(),a=s.getMonth(),l=s.getDate();return{year:i,month:a,day:l}}[M](s){const{year:i,month:a}=this[r](s),l=new Date(i,a,1),k=this[T](l),t=new Date(i,a,this[q](i)[a]),F=this[w](t),d=(l.getTime()-k.getTime())/this.ONEDAY,e=(F.getTime()-t.getTime())/this.ONEDAY;return{month_1st_day:l,month_last_day:t,calendar_1st_day:k,calendar_front_days:d,calendar_last_days:e}}[T](s){let i=null;return this.CALENDAR_MODE==="zh"?i=new Date(s.getDay()===0?s.getTime()-6*this.ONEDAY:s.getTime()-(s.getDay()-1)*this.ONEDAY):this.CALENDAR_MODE==="en"&&(i=new Date(s.getTime()-s.getDay()*this.ONEDAY)),i}[w](s){let i=null;return this.CALENDAR_MODE==="zh"?i=new Date(s.getDay()===0?s.getTime():s.getTime()+(7-s.getDay())*this.ONEDAY):this.CALENDAR_MODE==="en"&&(i=new Date(s.getTime()+(6-s.getDay())*this.ONEDAY)),i}[v](s){return s%4==0&&s%100!==0||s%400==0}[q](s){const i=[31,28,31,30,31,30,31,31,30,31,30,31],a=[31,29,31,30,31,30,31,31,30,31,30,31];return this[v](s)?a:i}};const z={class:"container"},L={class:"calendar"},R={class:"date_title"},W={class:"txt"},V={class:"txt"},U={class:"month_bg"},Z={class:"week_head"},J={class:"day_box"},X=O({__name:"Calendar",setup(h){const s=b("en"),i=new $(s.value),{week_days:a,calendar_days:l,month:k,year:t}=i.init(),F=b(a),d=b(l),e=b(k),o=b(t),A=()=>{const{calendar_days:B,month:C,year:p}=i.jump();d.value=B,e.value=C,o.value=p};return(B,C)=>(g(),c("div",z,[n("div",L,[n("div",R,[n("span",W,u(o.value)+"年",1),n("span",V,u(e.value+1)+"月",1)]),n("div",{class:"switcher"},[n("div",{class:"button",onClick:A},"今天")]),n("div",U,u(e.value+1)+"月",1),n("div",Z,[(g(!0),c(f,null,_(F.value,(p,E)=>(g(),c("div",{class:"week_day",key:E},u(p),1))),128))]),n("div",J,[(g(!0),c(f,null,_(d.value,(p,E)=>(g(),c("div",{class:x(["day",{overCurrentMonth:!p.isCurrentMonth}]),key:E},[n("div",{class:x(["num",{isToday:p.isToday}])},u(p.day),3)],2))),128))])])]))}}),G=S(X,[["__scopeId","data-v-d4d8e073"]]),K=n("h1",{id:"封装-vue-日历组件心得和经验总结",tabindex:"-1"},[N("封装 Vue 日历组件心得和经验总结 "),n("a",{class:"header-anchor",href:"#封装-vue-日历组件心得和经验总结","aria-label":'Permalink to "封装 Vue 日历组件心得和经验总结"'},"​")],-1),Q=n("h2",{id:"_0-效果预览",tabindex:"-1"},[N("0. 效果预览 "),n("a",{class:"header-anchor",href:"#_0-效果预览","aria-label":'Permalink to "0. 效果预览"'},"​")],-1),ss=P("",8),ps=JSON.parse('{"title":"封装 Vue 日历组件心得和经验总结","description":"","frontmatter":{},"headers":[],"relativePath":"vue/component/001.md","filePath":"vue/component/001.md","lastUpdated":1715521816000}'),is={name:"vue/component/001.md"},hs=Object.assign(is,{setup(h){return(s,i)=>(g(),c("div",null,[K,Q,H(G),ss]))}});export{ps as __pageData,hs as default};
